# Migration to pnpm

This project has been successfully migrated from npm to pnpm.

## What Changed

### Package Manager
- ✅ Removed `package-lock.json`
- ✅ Added `pnpm-lock.yaml` (auto-generated by pnpm)
- ✅ Created `.npmrc` with pnpm-specific configuration

### Configuration Files Updated
- ✅ `playwright.config.ts` - Updated web server command to use `pnpm run web`
- ✅ `.gitignore` - Added pnpm debug logs, kept `package-lock.json` and `yarn.lock` in ignore list

### Documentation Updated
- ✅ `README.md` - All npm commands replaced with pnpm
- ✅ `SETUP.md` - Updated prerequisites and all commands
- ✅ `tests/README.md` - Updated test running instructions
- ✅ `tests/TEST_RESULTS.md` - Updated test commands

## pnpm Configuration

The `.npmrc` file includes:
```ini
shamefully-hoist=true
strict-peer-dependencies=false
auto-install-peers=true
```

These settings ensure compatibility with React Native and Expo projects.

## Verification

✅ All 47 Playwright tests passing with pnpm  
✅ Dependencies installed successfully  
✅ Web server starts correctly  
✅ All scripts working as expected

## Usage

### Install Dependencies
```bash
pnpm install
```

### Run Scripts
```bash
pnpm start          # Start Expo dev server
pnpm run android    # Run on Android
pnpm run ios        # Run on iOS
pnpm run web        # Run on Web
pnpm run test:e2e   # Run E2E tests
```

### Add Dependencies
```bash
pnpm add <package>           # Add production dependency
pnpm add -D <package>        # Add dev dependency
pnpm add -g <package>        # Add global package
```

### Remove Dependencies
```bash
pnpm remove <package>
```

## Benefits of pnpm

1. **Faster Installation**: Uses hard links and symlinks for efficient disk usage
2. **Strict Dependency Resolution**: Prevents phantom dependencies
3. **Disk Space Efficient**: Shared store across projects
4. **Better Monorepo Support**: Built-in workspace support
5. **Security**: Better isolation of dependencies

## Notes

- `npx` commands still work with pnpm (use `pnpm exec` or `pnpm dlx` as alternatives)
- The `pnpm-lock.yaml` file should be committed to version control
- All existing npm scripts work the same way with pnpm

## Troubleshooting

If you encounter issues:

1. **Clear pnpm store**:
   ```bash
   pnpm store prune
   ```

2. **Reinstall dependencies**:
   ```bash
   rm -rf node_modules pnpm-lock.yaml
   pnpm install
   ```

3. **Check pnpm version**:
   ```bash
   pnpm --version
   ```

For more information, see [pnpm documentation](https://pnpm.io/).

